"use strict";(self.webpackChunkregistrosApp=self.webpackChunkregistrosApp||[]).push([[864],{2564:(U,g,a)=>{a.d(g,{D:()=>l});var f=a(2340),t=a(7579),_=a(4004),p=a(4650),F=a(529);let l=(()=>{class m{constructor(o){this.http=o,this.myNewSubject=new t.x,this.baseUrl=f.N.baseUrl,this.objectUrl="",this.arrayFuturos=[]}informDataChanges(o){this.myNewSubject.next(o)}get files(){return{...this._files}}preview(o){if(o.target.files){var n=new FileReader;n.readAsDataURL(o.target.files[0]),n.onload=r=>{this.objectUrl=r.target.result}}return this.objectUrl}updateSep(o,n,r,s,c){const u=`${this.baseUrl}/uploads/sepulturas/${o}`,d=new FormData;return d.append("id",o),d.append("file",c),d.append("calle",n),d.append("numero",r),d.append("tipo",s),this.http.put(u,d,{headers:{"x-token":localStorage.getItem("token")||""}})}uploadSoloFile(o){const n=`${this.baseUrl}/uploads/sepulturas`,r=new FormData;return r.append("file",o),this.http.post(n,r,{headers:{"x-token":localStorage.getItem("token")||""}})}uploadSepulturaCloudinary(o,n,r,s){const c=`${this.baseUrl}/uploads/${r}`,u=new FormData;return u.append("calle",o),u.append("numero",n),u.append("tipo",r),u.append("file",s),this.http.post(c,u,{headers:{"x-token":localStorage.getItem("token")||""}})}uploadFile(o,n,r,s){const c=`${this.baseUrl}/sepulturas`,u=new FormData;return u.append("calle",o),u.append("numero",n),u.append("tipo",r),u.append("file",s),this.http.post(c,u,{headers:{"x-token":localStorage.getItem("token")||""}})}obtenerImagen(o,n){return this.http.get(`${this.baseUrl}/uploads/${o}/${n}`).pipe((0,_.U)(r=>{console.log(r)}))}updatFile(o){return console.log(o),this.http.put(`${this.baseUrl}/sepulturas/${o}`,o)}crearLikes(o,n,r,s){return this.http.post(`${this.baseUrl}/likes/`,{usuarioId:o,fallecidoId:n,valor:r,like:s})}borrarLikes(o,n){const r=`${this.baseUrl}/likes/${n}/${o}`;return console.log(n),this.http.delete(r)}obtenerLikes(){return console.log(),this.http.get(`${this.baseUrl}/likes/`)}obtenerLikesIndividuales(o){return console.log(),this.http.get(`${this.baseUrl}/likes/${o}`)}obtenerFuturos(){return this.http.get(`${this.baseUrl}/futuros`)}}return m.\u0275fac=function(o){return new(o||m)(p.LFG(F.eN))},m.\u0275prov=p.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},3292:(U,g,a)=>{a.d(g,{t:()=>y});var f=a(4004),t=a(4650),_=a(2564),p=a(6895),F=a(3848),l=a(1576);function m(o,n){if(1&o&&(t.TgZ(0,"div")(1,"mat-tab",3)(2,"div")(3,"table",4)(4,"thead")(5,"tr")(6,"th"),t._uU(7," Nombre y apellidos "),t.qZA(),t.TgZ(8,"th"),t._uU(9," Fecha Defunci\xf3n "),t.qZA(),t.TgZ(10,"th"),t._uU(11," Fecha Entierro "),t.qZA(),t.TgZ(12,"th"),t._uU(13," Hora de Misa "),t.qZA(),t.TgZ(14,"th"),t._uU(15," Sepelio "),t.qZA()()(),t.TgZ(16,"tbody")(17,"tr")(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.ALo(22,"date"),t.qZA(),t.TgZ(23,"td"),t._uU(24),t.ALo(25,"date"),t.qZA(),t.TgZ(26,"td"),t._uU(27),t.qZA(),t.TgZ(28,"td"),t._uU(29),t.qZA()()()()()()()),2&o){const r=n.index,s=t.oxw();t.xp6(1),t.MGl("label","Entierro ",r+1,""),t.xp6(18),t.AsE("",s.muertosFuturos[s.i+r].nombre," ",s.muertosFuturos[s.i+r].apellidos," "),t.xp6(2),t.Oqu(t.xi3(22,7,s.muertosFuturos[s.i+r].fecha_defuncion,"dd-MM-yyyy")),t.xp6(3),t.Oqu(t.xi3(25,10,s.muertosFuturos[s.i+r].fecha_entierro,"dd-MM-yyyy")),t.xp6(3),t.Oqu(s.muertosFuturos[s.i+r].hora_entierro),t.xp6(2),t.Oqu(s.muertosFuturos[s.i+r].local_sepelio)}}let y=(()=>{class o{constructor(r){this._compartidoService=r,this.muertosFuturos=[],this.arrayFuturos=[],this.i=0,this.pos=0,this.Entierro1=!1,console.log(this.muertosFuturos),this._compartidoService.obtenerFuturos().pipe((0,f.U)(s=>{console.log(s);let c=new Date;for(let u=0;u<s.length;u++)if(console.log(s[u].fecha_entierro),s[u].fecha_entierro){console.log(s[u].fecha_entierro);let d=new Date(s[u].fecha_entierro);console.log(d),console.log(c);const e=d.toISOString().split("T");console.log(e);const i=c.toISOString().split("T");console.log(i),e[0]>=i[0]&&this.arrayFuturos.push(s[u])}this.muertosFuturos=this.arrayFuturos,console.log(this.arrayFuturos),console.log(this.muertosFuturos)})).subscribe()}ngOnInit(){}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(_.D))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-futuros"]],decls:4,vars:1,consts:[["fxLayout","row","fxLayoutAlign","end","fxLayout.xs","column","fxLayout.sm","column","fxLayoutGap","0px"],["fxFlex","100"],[4,"ngFor","ngForOf"],[3,"label"],[1,"table","table","table-success","table-striped"]],template:function(r,s){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-tab-group"),t.YNc(3,m,30,13,"div",2),t.qZA()()()),2&r&&(t.xp6(3),t.Q6J("ngForOf",s.muertosFuturos))},dependencies:[p.sg,F.SP,F.uX,l.xw,l.SQ,l.Wh,l.yH,p.uU],encapsulation:2}),o})()},8864:(U,g,a)=>{a.r(g),a.d(g,{SharedModule:()=>d});var f=a(6895),t=a(7372),_=a(9814),p=a(9299),F=a(4998),l=a(4650);let m=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(h){return new(h||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-temporal"]],decls:6,vars:0,consts:[[2,"height","100%","background","red","display","flex","justify-content","center","align-items","center"]],template:function(h,M){1&h&&(l.TgZ(0,"div",0),l._UZ(1,"br"),l.TgZ(2,"div"),l._uU(3,"Estamos trabajando para "),l._UZ(4,"br"),l._uU(5,"actualizar esta informaci\xf3n..."),l.qZA()())},encapsulation:2}),e})();var y=a(3292);const o=[{path:"",component:F.O,children:[{path:"temporal",component:m},{path:"futuros",component:y.t}]}];let n=(()=>{class e{}return e.\u0275fac=function(h){return new(h||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[p.Bz.forChild(o),p.Bz]}),e})();var r=a(9638);const s=[];let c=(()=>{class e{}return e.\u0275fac=function(h){return new(h||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[p.Bz.forChild(s),p.Bz]}),e})(),u=(()=>{class e{}return e.\u0275fac=function(h){return new(h||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[f.ez,t.q,_.o9,c]}),e})(),d=(()=>{class e{}return e.\u0275fac=function(h){return new(h||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[f.ez,u,t.q,_.o9,p.Bz,n,r.ComentariosModule]}),e})()}}]);