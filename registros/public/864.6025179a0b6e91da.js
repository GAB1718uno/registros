"use strict";(self.webpackChunkregistrosApp=self.webpackChunkregistrosApp||[]).push([[864],{2564:(y,f,a)=>{a.d(f,{D:()=>u});var g=a(2340),t=a(7579),_=a(4004),p=a(4650),F=a(529);let u=(()=>{class h{constructor(e){this.http=e,this.myNewSubject=new t.x,this.baseUrl=g.N.baseUrl,this.objectUrl="",this.arrayFuturos=[]}informDataChanges(e){this.myNewSubject.next(e)}get files(){return{...this._files}}preview(e){if(e.target.files){var n=new FileReader;n.readAsDataURL(e.target.files[0]),n.onload=r=>{this.objectUrl=r.target.result}}return this.objectUrl}updateSep(e,n,r,s,c){const l=`${this.baseUrl}/uploads/sepulturas/${e}`,m=new FormData;return m.append("id",e),m.append("file",c),m.append("calle",n),m.append("numero",r),m.append("tipo",s),this.http.put(l,m,{headers:{"x-token":localStorage.getItem("token")||""}})}uploadSoloFile(e){const n=`${this.baseUrl}/uploads/sepulturas`,r=new FormData;return r.append("file",e),this.http.post(n,r,{headers:{"x-token":localStorage.getItem("token")||""}})}uploadSepulturaCloudinary(e,n,r,s){const c=`${this.baseUrl}/uploads/${r}`,l=new FormData;return l.append("calle",e),l.append("numero",n),l.append("tipo",r),l.append("file",s),this.http.post(c,l,{headers:{"x-token":localStorage.getItem("token")||""}})}uploadFile(e,n,r,s){const c=`${this.baseUrl}/sepulturas`,l=new FormData;return l.append("calle",e),l.append("numero",n),l.append("tipo",r),l.append("file",s),this.http.post(c,l,{headers:{"x-token":localStorage.getItem("token")||""}})}obtenerImagen(e,n){return this.http.get(`${this.baseUrl}/uploads/${e}/${n}`).pipe((0,_.U)(r=>{console.log(r)}))}updatFile(e){return console.log(e),this.http.put(`${this.baseUrl}/sepulturas/${e}`,e)}crearLikes(e,n,r,s){return this.http.post(`${this.baseUrl}/likes/`,{usuarioId:e,fallecidoId:n,valor:r,like:s})}borrarLikes(e,n){const r=`${this.baseUrl}/likes/${n}/${e}`;return console.log(n),this.http.delete(r)}obtenerLikes(){return console.log(),this.http.get(`${this.baseUrl}/likes/`)}obtenerLikesIndividuales(e){return console.log(),this.http.get(`${this.baseUrl}/likes/${e}`)}obtenerFuturos(){return this.http.get(`${this.baseUrl}/futuros`)}}return h.\u0275fac=function(e){return new(e||h)(p.LFG(F.eN))},h.\u0275prov=p.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},3292:(y,f,a)=>{a.d(f,{t:()=>U});var g=a(4004),t=a(4650),_=a(2564),p=a(6895),F=a(3848),u=a(1576);function h(e,n){if(1&e&&(t.TgZ(0,"div")(1,"mat-tab",3)(2,"div")(3,"table",4)(4,"thead")(5,"tr")(6,"th"),t._uU(7," Nombre y apellidos "),t.qZA(),t.TgZ(8,"th"),t._uU(9," Fecha Defunci\xf3n "),t.qZA(),t.TgZ(10,"th"),t._uU(11," Fecha Entierro "),t.qZA(),t.TgZ(12,"th"),t._uU(13," Hora de Misa "),t.qZA(),t.TgZ(14,"th"),t._uU(15," Sepelio "),t.qZA()()(),t.TgZ(16,"tbody")(17,"tr")(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.ALo(22,"date"),t.qZA(),t.TgZ(23,"td"),t._uU(24),t.ALo(25,"date"),t.qZA(),t.TgZ(26,"td"),t._uU(27),t.qZA(),t.TgZ(28,"td"),t._uU(29),t.qZA()()()()()()()),2&e){const r=n.index,s=t.oxw();t.xp6(1),t.MGl("label","Entierro ",r+1,""),t.xp6(18),t.AsE("",s.muertosFuturos[s.i+r].nombre," ",s.muertosFuturos[s.i+r].apellidos," "),t.xp6(2),t.Oqu(t.xi3(22,7,s.muertosFuturos[s.i+r].fecha_defuncion,"dd-MM-yyyy")),t.xp6(3),t.Oqu(t.xi3(25,10,s.muertosFuturos[s.i+r].fecha_entierro,"dd-MM-yyyy")),t.xp6(3),t.Oqu(s.muertosFuturos[s.i+r].hora_entierro),t.xp6(2),t.Oqu(s.muertosFuturos[s.i+r].local_sepelio)}}let U=(()=>{class e{constructor(r){this._compartidoService=r,this.muertosFuturos=[],this.arrayFuturos=[],this.i=0,this.pos=0,this.Entierro1=!1,console.log(this.muertosFuturos),this._compartidoService.obtenerFuturos().pipe((0,g.U)(s=>{console.log(s);let c=new Date;for(let l=0;l<s.length;l++)if(s[l].fecha_entierro){const o=new Date(s[l].fecha_entierro).toISOString().split("T"),i=c.toISOString().split("T");o[0]>=i[0]&&this.arrayFuturos.push(s[l])}this.muertosFuturos=this.arrayFuturos})).subscribe()}ngOnInit(){}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(_.D))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-futuros"]],decls:4,vars:1,consts:[["fxLayout","row","fxLayoutAlign","end","fxLayout.xs","column","fxLayout.sm","column","fxLayoutGap","0px"],["fxFlex","100"],[4,"ngFor","ngForOf"],[3,"label"],[1,"table","table","table-success","table-striped"]],template:function(r,s){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-tab-group"),t.YNc(3,h,30,13,"div",2),t.qZA()()()),2&r&&(t.xp6(3),t.Q6J("ngForOf",s.muertosFuturos))},dependencies:[p.sg,F.SP,F.uX,u.xw,u.SQ,u.Wh,u.yH,p.uU],encapsulation:2}),e})()},8864:(y,f,a)=>{a.r(f),a.d(f,{SharedModule:()=>m});var g=a(6895),t=a(8711),_=a(9814),p=a(9299),F=a(4998),u=a(4650);let h=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(d){return new(d||o)},o.\u0275cmp=u.Xpm({type:o,selectors:[["app-temporal"]],decls:6,vars:0,consts:[[2,"height","100%","background","red","display","flex","justify-content","center","align-items","center"]],template:function(d,M){1&d&&(u.TgZ(0,"div",0),u._UZ(1,"br"),u.TgZ(2,"div"),u._uU(3,"Estamos trabajando para "),u._UZ(4,"br"),u._uU(5,"actualizar esta informaci\xf3n..."),u.qZA()())},encapsulation:2}),o})();var U=a(3292);const e=[{path:"",component:F.O,children:[{path:"temporal",component:h},{path:"futuros",component:U.t}]}];let n=(()=>{class o{}return o.\u0275fac=function(d){return new(d||o)},o.\u0275mod=u.oAB({type:o}),o.\u0275inj=u.cJS({imports:[p.Bz.forChild(e),p.Bz]}),o})();var r=a(9638);const s=[];let c=(()=>{class o{}return o.\u0275fac=function(d){return new(d||o)},o.\u0275mod=u.oAB({type:o}),o.\u0275inj=u.cJS({imports:[p.Bz.forChild(s),p.Bz]}),o})(),l=(()=>{class o{}return o.\u0275fac=function(d){return new(d||o)},o.\u0275mod=u.oAB({type:o}),o.\u0275inj=u.cJS({imports:[g.ez,t.q,_.o9,c]}),o})(),m=(()=>{class o{}return o.\u0275fac=function(d){return new(d||o)},o.\u0275mod=u.oAB({type:o}),o.\u0275inj=u.cJS({imports:[g.ez,l,t.q,_.o9,p.Bz,n,r.ComentariosModule]}),o})()}}]);