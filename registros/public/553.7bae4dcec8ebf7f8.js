"use strict";(self.webpackChunkregistrosApp=self.webpackChunkregistrosApp||[]).push([[553],{7915:(I,Z,a)=>{a.d(Z,{g:()=>C});var _=a(4650),t=a(7185);let C=(()=>{class h{constructor(e){this.toastr=e}showSuccess(e,v){console.log("aqui estamos dando like o comprobando validezx de formulario"),this.toastr.warning(e,v,{positionClass:"toast-bottom-center"})}}return h.\u0275fac=function(e){return new(e||h)(_.LFG(t._W))},h.\u0275prov=_.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},2564:(I,Z,a)=>{a.d(Z,{D:()=>e});var _=a(2340),t=a(7579),C=a(4004),h=a(4650),g=a(529);let e=(()=>{class v{constructor(o){this.http=o,this.myNewSubject=new t.x,this.baseUrl=_.N.baseUrl,this.objectUrl="",this.arrayFuturos=[]}informDataChanges(o){this.myNewSubject.next(o)}get files(){return{...this._files}}preview(o){if(o.target.files){var p=new FileReader;p.readAsDataURL(o.target.files[0]),p.onload=u=>{this.objectUrl=u.target.result}}return this.objectUrl}updateSep(o,p,u,l,c){const i=`${this.baseUrl}/uploads/sepulturas/${o}`,d=new FormData;return d.append("id",o),d.append("file",c),d.append("calle",p),d.append("numero",u),d.append("tipo",l),this.http.put(i,d,{headers:{"x-token":localStorage.getItem("token")||""}})}uploadSoloFile(o){const p=`${this.baseUrl}/uploads/sepulturas`,u=new FormData;return u.append("file",o),this.http.post(p,u,{headers:{"x-token":localStorage.getItem("token")||""}})}uploadSepulturaCloudinary(o,p,u,l){const c=`${this.baseUrl}/uploads/${u}`,i=new FormData;return i.append("calle",o),i.append("numero",p),i.append("tipo",u),i.append("file",l),this.http.post(c,i,{headers:{"x-token":localStorage.getItem("token")||""}})}uploadFile(o,p,u,l){const c=`${this.baseUrl}/sepulturas`,i=new FormData;return i.append("calle",o),i.append("numero",p),i.append("tipo",u),i.append("file",l),this.http.post(c,i,{headers:{"x-token":localStorage.getItem("token")||""}})}obtenerImagen(o,p){return this.http.get(`${this.baseUrl}/uploads/${o}/${p}`).pipe((0,C.U)(u=>{console.log(u)}))}updatFile(o){return console.log(o),this.http.put(`${this.baseUrl}/sepulturas/${o}`,o)}crearLikes(o,p,u,l){return this.http.post(`${this.baseUrl}/likes/`,{usuarioId:o,fallecidoId:p,valor:u,like:l})}borrarLikes(o,p){const u=`${this.baseUrl}/likes/${p}/${o}`;return console.log(p),this.http.delete(u)}obtenerLikes(){return console.log(),this.http.get(`${this.baseUrl}/likes/`)}obtenerLikesIndividuales(o){return console.log(),this.http.get(`${this.baseUrl}/likes/${o}`)}obtenerFuturos(){return this.http.get(`${this.baseUrl}/futuros`)}crearFuturosEntierros(o,p,u,l,c,i){const d=`${this.baseUrl}/futuros`,f=new FormData;return f.append("nombre",o),f.append("apellidos",p),f.append("fecha_defuncion",u),f.append("fecha_entierro",l),f.append("hora_entierro",c),f.append("local_sepelio",i),this.http.post(d,f)}}return v.\u0275fac=function(o){return new(o||v)(h.LFG(g.eN))},v.\u0275prov=h.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},9931:(I,Z,a)=>{a.d(Z,{n:()=>y});var _=a(5412),t=a(4650),C=a(4006),h=a(4859),g=a(3546);let e=(()=>{class n{constructor(m,r,x,F){this.fb=m,this.dialogRef=r,this._dialog=x,this.data=F,this.description="Localizaci\xf3n de la sepultura",this.image=this.data.sepultura}close(){this.dialogRef.close()}save(){}onNoClick(){}ngOnInit(){console.log(this.image)}}return n.\u0275fac=function(m){return new(m||n)(t.Y36(C.QS),t.Y36(_.so),t.Y36(_.uw),t.Y36(_.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-dialog"]],decls:14,vars:2,consts:[[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["mat-card-image","",3,"src"],["mat-button","",3,"click"]],template:function(m,r){1&m&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header"),t._UZ(2,"div",1),t.TgZ(3,"mat-card-title"),t._uU(4,"Sepultado en:"),t.qZA(),t.TgZ(5,"mat-card-subtitle"),t._uU(6),t.qZA()(),t._UZ(7,"img",2),t.TgZ(8,"mat-card-content")(9,"p"),t._uU(10," The Shiba Inu is the smallest of the six original and distinct spitz breeds of dog from Japan. A small, agile dog that copes very well with mountainous terrain, the Shiba Inu was originally bred for hunting. "),t.qZA()(),t.TgZ(11,"mat-card-actions")(12,"button",3),t.NdJ("click",function(){return r.close()}),t._uU(13,"Cerrar"),t.qZA()()()),2&m&&(t.xp6(6),t.Oqu(r.image.sepult),t.xp6(1),t.s9C("src",r.image.url2,t.LSH))},dependencies:[h.lW,g.a8,g.dk,g.dn,g.n5,g.$j,g.hq,g.G2,g.kc],encapsulation:2}),n})();var v=a(9299),A=a(7266),o=a(7392),p=a(1481),u=a(2564),l=a(4402),c=a(7915),i=a(6895);function d(n,b){1&n&&t._UZ(0,"mat-icon",8)}function f(n,b){1&n&&t._UZ(0,"mat-icon",9)}function U(n,b){1&n&&t._UZ(0,"mat-icon",10)}let T=(()=>{class n{constructor(m,r,x,F,O,S,k){this._matIcon=m,this._domSatanizer=r,this.route=x,this._fallecidoService=F,this._authService=O,this._compartidoService=S,this.notifyService=k,this.item={id:"",name:"",apellidos:"",nacio:new Date,fallecio:"",mote:"",url:"",url2:"",sepult:"",sepulturaId:"",likes:0},this.likes=[{id:"",usuarioId:"",createdAt:"",valor:0,like:!1,updatedAt:"",fallecidoId:""}],this.contador=0,this.total=0,this.apretado=!1,this.title="",m.addSvgIcon("vela2",r.bypassSecurityTrustResourceUrl("../assets/images/icons/vela2.svg")),m.addSvgIcon("vela3",r.bypassSecurityTrustResourceUrl("../assets/images/icons/vela3.svg")),m.addSvgIcon("corazon1",r.bypassSecurityTrustResourceUrl("../assets/images/icons/corazon1.svg")),m.addSvgIcon("nacio",r.bypassSecurityTrustResourceUrl("../assets/images/icons/nacio.svg"))}ngOnInit(){}like(){const m=localStorage.getItem("token");console.log(this.usuario),this.usuario.usuario&&m?this.apretado?(this.contador=this.contador-1,this.likes[0].fallecidoId=this.item.id,this.likes[0].usuarioId=this.usuario.uid,this.apretado=!1,this._compartidoService.borrarLikes(this.likes[0].usuarioId,this.likes[0].fallecidoId).subscribe(r=>{})):(this.contador=this.contador+1,this.likes[0].like=!0,this.likes[0].fallecidoId=this.item.id,this.likes[0].usuarioId=this.usuario.uid,this.likes[0].valor=this.contador,this.likes[0].createdAt=(new Date).toDateString(),this.likes[0].updatedAt=(new Date).toLocaleDateString(),this.apretado=!0,this._compartidoService.crearLikes(this.likes[0].usuarioId,this.likes[0].fallecidoId,this.likes[0].valor,this.likes[0].like).subscribe(r=>{})):this.notifyService.showSuccess("Para demostrar su afecto es necesario estar conectado!! Haga LogIn o Reg\xedstrese","ATENCI\xd3N")}get usuario(){return this._authService.usuario}}return n.\u0275fac=function(m){return new(m||n)(t.Y36(o.jv),t.Y36(p.H7),t.Y36(v.F0),t.Y36(l.t),t.Y36(A.e),t.Y36(u.D),t.Y36(c.g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-crear-likes"]],inputs:{item:"item",likes:"likes",contador:"contador",apretado:"apretado"},decls:9,vars:4,consts:[["title","title",1,"likes",2,"background-color","rgb(67, 133, 150)","padding-top","5px","margin","0px","align-content","center","vertical-align","middle","text-align","center"],[3,"click"],["color","","svgIcon","vela2",2,"vertical-align","middle"],["color","warn","style","vertical-align: middle;","svgIcon","vela2",4,"ngIf"],["color","","svgIcon","vela3",2,"vertical-align","middle"],["color","warn","style","vertical-align: middle;","svgIcon","corazon1",4,"ngIf"],["color","","style","vertical-align: middle;","svgIcon","corazon1",4,"ngIf"],[2,"vertical-align","middle","font-size","medium"],["color","warn","svgIcon","vela2",2,"vertical-align","middle"],["color","warn","svgIcon","corazon1",2,"vertical-align","middle"],["color","","svgIcon","corazon1",2,"vertical-align","middle"]],template:function(m,r){1&m&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return r.like()}),t._UZ(2,"mat-icon",2),t.YNc(3,d,1,0,"mat-icon",3),t._UZ(4,"mat-icon",4),t.YNc(5,f,1,0,"mat-icon",5),t.YNc(6,U,1,0,"mat-icon",6),t.qZA(),t.TgZ(7,"span",7),t._uU(8),t.qZA()()),2&m&&(t.xp6(3),t.Q6J("ngIf",r.apretado),t.xp6(2),t.Q6J("ngIf",r.apretado),t.xp6(1),t.Q6J("ngIf",!r.apretado),t.xp6(2),t.hij(" ",r.contador,""))},dependencies:[i.O5,o.Hw]}),n})();var M=a(1576);const s=function(n){return["/fallecidos/editar",n]};let y=(()=>{class n{constructor(m,r,x,F,O,S){this.route=m,this._authService=r,this._matIcon=x,this._domSatanizer=F,this._dialog=O,this._compartidoService=S,this.sepulturaIndividual={},this.item={id:"",name:"",apellidos:"",nacio:new Date,fallecio:"",mote:"",url:"",url2:"",sepult:"",sepulturaId:"",likes:0},this.muertos=[],this.editarDeshabilitado=!0,this.localizaDeshabilitado=!0,this.contadorAqui=0,this.likes=[{id:"",usuarioId:"",createdAt:"",valor:0,like:!1,updatedAt:"",fallecidoId:""}],this.total=0,this.apretado=!1,x.addSvgIcon("cruz_2",F.bypassSecurityTrustResourceUrl("../assets/images/icons/cruz_2.svg")),x.addSvgIcon("nacio",F.bypassSecurityTrustResourceUrl("../assets/images/icons/nacio.svg")),x.addSvgIcon("nacio_2",F.bypassSecurityTrustResourceUrl("../assets/images/icons/nacio_2.svg"))}ngOnInit(){this.subscription=this._compartidoService.obtenerLikes().subscribe(m=>{const r=m.filter(x=>x.fallecidoId==this.item.id);this.apretado=r.some(x=>x.usuarioId==this.usuario.uid),this.contadorAqui=r.length})}verSepultura(){let m;screen.width<600?(m=this._dialog.open(e,{maxWidth:"95vw",width:"400px",height:"500px",maxHeight:"120vw",data:{sepultura:this.sepulturaIndividual}}),m.afterClosed().subscribe(r=>{console.log("The dialog was closed"),console.log(r)})):(m=this._dialog.open(e,{width:"500px",height:"700px",maxHeight:"150vw",data:{sepultura:this.sepulturaIndividual}}),m.afterClosed().subscribe(r=>{console.log("The dialog was closed"),console.log(r)}))}get usuario(){return this._authService.usuario}navegar(){this.route.navigateByUrl(`fallecidos/${this.item.id}`)}ngOnDestroy(){this.subscription?.unsubscribe()}}return n.\u0275fac=function(m){return new(m||n)(t.Y36(v.F0),t.Y36(A.e),t.Y36(o.jv),t.Y36(p.H7),t.Y36(_.uw),t.Y36(u.D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-fallecidos-tarjeta"]],inputs:{sepulturaIndividual:"sepulturaIndividual",item:"item",editarDeshabilitado:"editarDeshabilitado",localizaDeshabilitado:"localizaDeshabilitado",likes:"likes"},decls:36,vars:20,consts:[["fxLayout","row wrap",1,"container"],[1,"hijo1"],[1,"img"],[3,"src"],[1,"hijo2"],["svgIcon","nacio_2",2,"vertical-align","middle","height","18px"],["svgIcon","cruz_2",2,"vertical-align","middle","height","20px"],[3,"likes","apretado","contador","item"],[1,"hijo3",2,"text-align","center"],["mat-stroked-button","","color","warn",1,"mas",2,"margin","5px",3,"disabled","click"],["mat-stroked-button","","color","warn",1,"mas",2,"margin","5px",3,"click"],["mat-stroked-button","","color","primary",1,"edit",3,"disabled","routerLink"]],template:function(m,r){1&m&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA()(),t.TgZ(4,"div",4)(5,"mat-card-header")(6,"mat-card-title"),t._uU(7),t.qZA(),t.TgZ(8,"mat-card-subtitle"),t._uU(9),t.qZA()(),t.TgZ(10,"mat-card-content")(11,"small")(12,"small"),t._UZ(13,"mat-icon",5),t.qZA(),t._uU(14),t.ALo(15,"date"),t.qZA(),t._UZ(16,"br"),t.TgZ(17,"small")(18,"small"),t._UZ(19,"mat-icon",6),t.qZA(),t._uU(20),t.ALo(21,"date"),t.qZA()()(),t._UZ(22,"br")(23,"hr"),t.TgZ(24,"div",4),t._UZ(25,"app-crear-likes",7),t.qZA(),t._UZ(26,"hr")(27,"br"),t.TgZ(28,"div",8)(29,"mat-card-actions")(30,"button",9),t.NdJ("click",function(){return r.verSepultura()}),t._uU(31," Localizaci\xf3n "),t.qZA(),t.TgZ(32,"button",10),t.NdJ("click",function(){return r.navegar()}),t._uU(33," Ver m\xe1s... "),t.qZA(),t.TgZ(34,"button",11),t._uU(35," Editar "),t.qZA()()()()),2&m&&(t.xp6(3),t.Q6J("src",r.item.url,t.LSH),t.xp6(4),t.Oqu(r.item.name),t.xp6(2),t.Oqu(r.item.apellidos),t.xp6(5),t.hij(" ",t.xi3(15,12,r.item.nacio,"dd-MM-yyyy")," "),t.xp6(6),t.hij(" ",t.xi3(21,15,r.item.fallecio,"dd-MM-yyyy")," "),t.xp6(5),t.Q6J("likes",r.likes)("apretado",r.apretado)("contador",r.contadorAqui)("item",r.item),t.xp6(5),t.Q6J("disabled",r.localizaDeshabilitado),t.xp6(4),t.Q6J("disabled",r.editarDeshabilitado)("routerLink",t.VKq(18,s,r.item.id)))},dependencies:[T,h.lW,o.Hw,g.a8,g.dk,g.dn,g.n5,g.$j,g.hq,M.xw,v.rH,i.uU],styles:['mat-card[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px;padding:0}mat-card-content[_ngcontent-%COMP%]{padding-top:5px;color:#0c0c0c;align-items:center;align-self:center;text-align:center;max-width:100%}mat-card-header[_ngcontent-%COMP%]{background-color:#68a7ad;color:#fff;height:100%;width:100%;text-align:center;vertical-align:middle}.container[_ngcontent-%COMP%]{background-color:#99c4c8;width:100%}mat-card-title[_ngcontent-%COMP%]{margin:0;padding-top:10px;line-height:16px;text-align:center;vertical-align:middle;max-width:100%}mat-card-subtitle[_ngcontent-%COMP%]{padding-top:2px;line-height:15px;text-align:center;vertical-align:middle;max-width:100%}div[_ngcontent-%COMP%]{width:100%}small[_ngcontent-%COMP%]{align-content:center;max-width:100%}.wigdings[_ngcontent-%COMP%]{font:"Wingdins"}mat-card[_ngcontent-%COMP%]{background:#464141;margin-top:10px}.img[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}img[_ngcontent-%COMP%]{min-width:50px;max-width:100%;max-height:180px;border-radius:30px}.hijo1[_ngcontent-%COMP%], .hijo2[_ngcontent-%COMP%]{order:0;flex:1 1 auto;align-self:center}.hijo3[_ngcontent-%COMP%]{text-align:center;order:0;flex:1 1 auto;align-self:center}.mas[_ngcontent-%COMP%]{border-bottom:#f1ecec;border-color:#0c0c0c;color:#0c0c0c}button[_ngcontent-%COMP%]{max-width:90%}']}),n})()},6706:(I,Z,a)=>{a.d(Z,{t:()=>u});var _=a(4004),t=a(4650),C=a(2564),h=a(6895),g=a(3848),e=a(1576);let v=(()=>{class l{transform(i,d){return i.sort((f,U)=>f[d]<U[d]?-1:f[d]>U[d]?1:0)}}return l.\u0275fac=function(i){return new(i||l)},l.\u0275pipe=t.Yjl({name:"sortAntiguo",type:l,pure:!0}),l})();function A(l,c){if(1&l&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&l){const i=t.oxw();t.xp6(1),t.hij(" ",i.message,"")}}function o(l,c){if(1&l&&(t.TgZ(0,"div")(1,"mat-tab",5)(2,"div")(3,"table",6)(4,"colgroup"),t._UZ(5,"col")(6,"col")(7,"col")(8,"col")(9,"col"),t.qZA(),t.TgZ(10,"thead")(11,"tr")(12,"th"),t._uU(13," Nombre y apellidos "),t.qZA(),t.TgZ(14,"th"),t._uU(15," Fecha Defunci\xf3n "),t.qZA(),t.TgZ(16,"th"),t._uU(17," Fecha Entierro "),t.qZA(),t.TgZ(18,"th"),t._uU(19," Hora de Misa "),t.qZA(),t.TgZ(20,"th"),t._uU(21," Sepelio "),t.qZA()()(),t.TgZ(22,"tbody")(23,"tr")(24,"td",7),t._uU(25),t.qZA(),t.TgZ(26,"td"),t._uU(27),t.ALo(28,"date"),t.qZA(),t.TgZ(29,"td"),t._uU(30),t.ALo(31,"date"),t.qZA(),t.TgZ(32,"td"),t._uU(33),t.qZA(),t.TgZ(34,"td"),t._uU(35),t.qZA()()()()()()()),2&l){const i=c.index,d=t.oxw(2);t.xp6(1),t.MGl("label","Entierro ",i+1,""),t.xp6(24),t.AsE("",d.muertosFuturos[d.i+i].nombre," ",d.muertosFuturos[d.i+i].apellidos," "),t.xp6(2),t.Oqu(t.xi3(28,7,d.muertosFuturos[d.i+i].fecha_defuncion,"dd-MM-yyyy")),t.xp6(3),t.Oqu(t.xi3(31,10,d.muertosFuturos[d.i+i].fecha_entierro,"dd-MM-yyyy")),t.xp6(3),t.Oqu(d.muertosFuturos[d.i+i].hora_entierro),t.xp6(2),t.Oqu(d.muertosFuturos[d.i+i].local_sepelio)}}function p(l,c){if(1&l&&(t.TgZ(0,"div",2)(1,"div",3)(2,"mat-tab-group"),t.YNc(3,o,36,13,"div",4),t.ALo(4,"sortAntiguo"),t.qZA()()()),2&l){const i=t.oxw();t.xp6(3),t.Q6J("ngForOf",t.xi3(4,1,i.muertosFuturos,"fecha_entierro"))}}let u=(()=>{class l{constructor(i){this._compartidoService=i,this.muertosFuturos=[],this.arrayFuturos=[],this.i=0,this.pos=0,this.Entierro1=!1,this.message="",this.noHayEntierro=!1,this._compartidoService.obtenerFuturos().pipe((0,_.U)(d=>{console.log(d);let f=new Date;this.arrayFuturos=d.filter(U=>{let T=new Date(U.fecha_entierro);return console.log(this.arrayFuturos),console.log(T),T.toISOString().split("T"),console.log(T),T>=f}),this.muertosFuturos=this.arrayFuturos,console.log(this.muertosFuturos)})).subscribe(d=>{0==this.muertosFuturos.length&&(this.noHayEntierro=!0,this.message="No hay entierros previstos")})}ngOnInit(){}}return l.\u0275fac=function(i){return new(i||l)(t.Y36(C.D))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-futuros"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["hayEntierro",""],["fxLayout","row","fxLayoutAlign","end","fxLayout.xs","column","fxLayout.sm","column","fxLayoutGap","0px"],["fxFlex","100"],[4,"ngFor","ngForOf"],[3,"label"],[1,"table","table","table-success","table-striped"],[1,"letra"]],template:function(i,d){if(1&i&&(t.YNc(0,A,2,1,"div",0),t.YNc(1,p,5,4,"ng-template",null,1,t.W1O)),2&i){const f=t.MAs(2);t.Q6J("ngIf",d.noHayEntierro)("ngIfElse",f)}},dependencies:[h.sg,h.O5,g.SP,g.uX,e.xw,e.SQ,e.Wh,e.yH,h.uU,v],styles:[".table[_ngcontent-%COMP%]   colgroup[_ngcontent-%COMP%]   col[_ngcontent-%COMP%]:nth-child(2){background-color:red}.table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{background-color:#2d4a50}.table-success[_ngcontent-%COMP%]{--bs-table-bg: #d1e7dd;--bs-table-striped-bg: #c7dbd2;--bs-table-striped-color: #000;--bs-table-active-bg: #bcd0c7;--bs-table-active-color: #000;--bs-table-hover-bg: #c1d6cc;--bs-table-hover-color: #000;color:#fff;border-color:#bcd0c7}.mat-body[_ngcontent-%COMP%], .mat-body-1[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-body[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]   .mat-body-1[_ngcontent-%COMP%], .mat-typography[_ngcontent-%COMP%]{font:400 14px/20px Roboto,Helvetica Neue,sans-serif;font-style:normal;font-feature-settings:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-east-asian:normal;font-weight:400;font-stretch:normal;font-size:10px;line-height:20px;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:normal}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-size:12px}"]}),l})()},5110:(I,Z,a)=>{a.d(Z,{J:()=>p});var _=a(3900),t=a(4650),C=a(9299),h=a(4402),g=a(6895),e=a(1576),v=a(9931);function A(u,l){1&u&&(t.TgZ(0,"div"),t._UZ(1,"br"),t._uU(2,"Estamos trabajando para "),t._UZ(3,"br"),t._uU(4,"actualizar esta informaci\xf3n"),t._UZ(5,"br"),t._uU(6," ..."),t.qZA())}function o(u,l){if(1&u&&(t.TgZ(0,"div",6),t._UZ(1,"app-fallecidos-tarjeta",7),t.qZA()),2&u){const c=l.$implicit,i=t.oxw();t.xp6(1),t.Q6J("item",c)("editarDeshabilitado",i.boton_editar)}}let p=(()=>{class u{constructor(c,i){this.activatedRoute=c,this.fallecidosService=i,this.fallecido={id:"",name:"",apellidos:"",nacio:new Date,fallecio:"",mote:"",url:"",url2:"",sepult:"",sepulturaId:"",likes:0},this.actualizando=!1,this.relacionados=[],this.boton_editar=!0}ngOnInit(){this.activatedRoute.params.pipe((0,_.w)(({id:c})=>this.fallecidosService.obtenerMuertoPorId(c))).subscribe(c=>{this.fallecido=c,console.log(c),this.fallecidosService.obtenerRelacionados(this.fallecido.id,this.fallecido.sepult).subscribe(f=>{const U=f.filter(T=>T.id!=c.id);console.log(this.fallecido),this.relacionados=U,console.log(f.length),0==this.relacionados.length&&(this.actualizando=!0),console.log(U),console.log(this.relacionados)})})}}return u.\u0275fac=function(c){return new(c||u)(t.Y36(C.gz),t.Y36(h.t))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-relacionados"]],decls:9,vars:3,consts:[["fxLayout","row wrap","fxLayoutAlign","start start","fxLayoutGap","5px",2,"margin-top","5px","margin-left","5px"],["fxFlex","100","fxLayoutAlign","center",2,"background","rgb(0, 4, 22)","border-top-right-radius","50px"],[2,"margin-top","5px","padding","15px","text-align","center"],[2,"height","100%","width","100%","background","red","text-align","center","margin-right","53px","display","flex","justify-content","center","align-items","center"],[4,"ngIf"],["fxFlex","100","fxFlex.xl","31.5","fxFlex.lg","32","fxFlex.md","42","fxFlex.sm","23","fxFlex.xs","30","fxLayoutGap","10px","fxLayoutAlign","space-around center",4,"ngFor","ngForOf"],["fxFlex","100","fxFlex.xl","31.5","fxFlex.lg","32","fxFlex.md","42","fxFlex.sm","23","fxFlex.xs","30","fxLayoutGap","10px","fxLayoutAlign","space-around center"],[3,"item","editarDeshabilitado"]],template:function(c,i){1&c&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3,"Sepultados en "),t._UZ(4,"br"),t._uU(5),t.qZA()(),t.TgZ(6,"div",3),t.YNc(7,A,7,0,"div",4),t.qZA(),t.YNc(8,o,2,2,"div",5),t.qZA()),2&c&&(t.xp6(5),t.hij("la misma ubicaci\xf3n que ",i.fallecido.name,""),t.xp6(2),t.Q6J("ngIf",i.actualizando),t.xp6(1),t.Q6J("ngForOf",i.relacionados))},dependencies:[g.sg,g.O5,e.xw,e.SQ,e.Wh,e.yH,v.n],encapsulation:2}),u})()},8553:(I,Z,a)=>{a.r(Z),a.d(Z,{SharedModule:()=>M});var _=a(6895),t=a(3161),C=a(9814),h=a(9299),g=a(4998),e=a(4650);let v=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-temporal"]],decls:6,vars:0,consts:[[2,"height","100%","background","red","display","flex","justify-content","center","align-items","center"]],template:function(n,b){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"br"),e.TgZ(2,"div"),e._uU(3,"Estamos trabajando para "),e._UZ(4,"br"),e._uU(5,"actualizar esta informaci\xf3n..."),e.qZA()())},encapsulation:2}),s})();var A=a(6706),o=a(4006),p=a(2564);let u=(()=>{class s{constructor(n,b){this.fb=n,this._compartidoService=b,this.miFormulario=this.fb.group({nombre:["",[o.kI.required]],apellidos:["",[o.kI.required]],defuncion:["",[o.kI.required]],entierro:["",[o.kI.required]],hora:["",[o.kI.required]],sepelio:["",[o.kI.required]]})}ngOnInit(){}guardar(){this._compartidoService.crearFuturosEntierros(this.miFormulario.value.nombre,this.miFormulario.value.apellidos,this.miFormulario.value.defuncion,this.miFormulario.value.entierro,this.miFormulario.value.hora,this.miFormulario.value.sepelio).subscribe(n=>{console.log("enviado con exito")}),console.log(this.miFormulario.value.nombre,this.miFormulario.value.apellidos,this.miFormulario.value.defuncion,this.miFormulario.value.entierro,this.miFormulario.value.hora,this.miFormulario.value.sepelio)}}return s.\u0275fac=function(n){return new(n||s)(e.Y36(o.QS),e.Y36(p.D))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-anyadir-fut"]],decls:46,vars:1,consts:[[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","aria-describedby","emailHelp","formControlName","nombre",1,"form-control"],["id","textoAviso",1,"form-text"],["for","apellidos",1,"form-label"],["type","text","formControlName","apellidos","id","apellidos",1,"form-control"],["for","hora",1,"form-label"],["type","text","formControlName","hora","id","hora",1,"form-control"],[1,"form-label"],[1,"form-check"],["type","radio","formControlName","sepelio","id","tanaAspe","value","Tanatorio Virgen de las Nieves",1,"form-check-input"],["for","tanaAspe",1,"form-check-label"],["type","radio","formControlName","sepelio","id","basilica","value","Basilica del Socorro",1,"form-check-input"],["for","basilica",1,"form-check-label"],["type","radio","formControlName","sepelio","id","buenPastor","value","Iglesia del Buen Pastor",1,"form-check-input"],["for","buenPastor",1,"form-check-label"],["type","radio","formControlName","sepelio","id","domicilio","value","Domicilio",1,"form-check-input"],["for","domicilio",1,"form-check-label"],["for","defuncion",1,"form-label"],["type","date","formControlName","defuncion","id","defuncion",1,"form-control"],["for","entierro",1,"form-label"],["type","date","formControlName","entierro","id","entierro",1,"form-control"],["type","submit",1,"btn","btn-primary","float-end",3,"disabled"]],template:function(n,b){1&n&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return b.guardar()}),e.TgZ(1,"div",1)(2,"label",2),e._uU(3,"Nombre"),e.qZA(),e._UZ(4,"input",3),e.TgZ(5,"div",4),e._uU(6,"Solamente nombre sin apellidos."),e.qZA()(),e.TgZ(7,"div",1)(8,"label",5),e._uU(9,"Apellidos"),e.qZA(),e._UZ(10,"input",6),e.qZA(),e.TgZ(11,"div",1)(12,"label",7),e._uU(13,"Hora del Entierro"),e.qZA(),e._UZ(14,"input",8),e.qZA(),e.TgZ(15,"div",1),e._UZ(16,"hr"),e.TgZ(17,"label",9),e._uU(18,"Local del Sepelio"),e.qZA(),e.TgZ(19,"div",10),e._UZ(20,"input",11),e.TgZ(21,"label",12),e._uU(22," Tanatorio Virgen de las Nieves "),e.qZA()(),e.TgZ(23,"div",10),e._UZ(24,"input",13),e.TgZ(25,"label",14),e._uU(26," Basilica del Socorro "),e.qZA()(),e.TgZ(27,"div",10),e._UZ(28,"input",15),e.TgZ(29,"label",16),e._uU(30," Iglesia del Buen Pastor "),e.qZA()(),e.TgZ(31,"div",10),e._UZ(32,"input",17),e.TgZ(33,"label",18),e._uU(34," Domicilio "),e.qZA()()(),e._UZ(35,"hr"),e.TgZ(36,"div",1)(37,"label",19),e._uU(38,"Fecha de Defunci\xf3n"),e.qZA(),e._UZ(39,"input",20),e.qZA(),e.TgZ(40,"div",1)(41,"label",21),e._uU(42,"Fecha de Entierro"),e.qZA(),e._UZ(43,"input",22),e.qZA(),e.TgZ(44,"button",23),e._uU(45,"Enviar datos"),e.qZA()()),2&n&&e.Q6J("formGroup",b.miFormulario)},dependencies:[o._Y,o.Fj,o._,o.JJ,o.JL,o.sg,o.u]}),s})();var l=a(5110);const c=[{path:"",component:g.O,children:[{path:"temporal",component:v},{path:"futuros",component:A.t},{path:"anadir",component:u},{path:"relacion",component:l.J}]}];let i=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[h.Bz.forChild(c),h.Bz]}),s})();var d=a(9638);const f=[];let U=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[h.Bz.forChild(f),h.Bz]}),s})(),T=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[_.ez,t.q,C.o9,U]}),s})(),M=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[_.ez,T,t.q,C.o9,h.Bz,i,d.ComentariosModule]}),s})()}}]);