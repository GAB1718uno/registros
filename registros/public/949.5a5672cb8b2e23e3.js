"use strict";(self.webpackChunkregistrosApp=self.webpackChunkregistrosApp||[]).push([[949],{1949:(Ye,F,l)=>{l.r(F),l.d(F,{FallecidosModule:()=>Pe});var d=l(6895),m=l(9299),s=l(4006),L=l(5226),N=l.n(L),e=l(4650),f=l(4402),U=l(7009),x=l(1326),h=l(9549),S=l(3238),k=l(4385);function P(o,r){if(1&o&&(e.TgZ(0,"mat-option",21),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.AsE("",t.calle,", ",t.numero," ")}}let Y=(()=>{class o{constructor(t,i,n,a,u){this._fallecidoService=t,this.route=i,this._snackBar=n,this.fb=a,this._sepulturaService=u,this.miFormulario=this.fb.group({name:["",[s.kI.required]],apellidos:["",[s.kI.required]],nacio:["",[s.kI.required]],fallecio:["",[s.kI.required]],mote:["",[s.kI.required]],url:["",[s.kI.required]],url2:["",[s.kI.required]],sepult:["",[s.kI.required]],sepulturaId:["",[s.kI.required]],sepultura:["",[s.kI.required]]}),this.consentimiento=!0,this.items=[]}ngOnInit(){this._sepulturaService.obtenerSepulturas().subscribe(t=>{this.items=t})}imagenSeleccionada(t){if(t.target.files){var i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=n=>{}}this.imagenSubir=t.target.files[0]}seleccionarSepultura(t){}guardar(){if(this.imagenSubir){const{name:t,apellidos:i,nacio:n,fallecio:a,mote:u}=this.miFormulario.value;this.miFormulario.value.sepult=this.miFormulario.value.sepultura.calle+", "+this.miFormulario.value.sepultura.numero,this.miFormulario.value.sepulturaId=this.miFormulario.value.sepultura.id,this.miFormulario.value.url=this.imagenSubir,this.miFormulario.value.url2=this.miFormulario.value.sepultura.avatar,this._fallecidoService.uploadFallecidoCloudinary(t,i,n,a,u,this.miFormulario.value.url,this.miFormulario.value.url2,this.miFormulario.value.sepulturaId,this.miFormulario.value.sepult,this.imagenSubir).subscribe(ze=>{console.log("enviado a bd"),this.mostrarSnack("Fallecido generado con exito"),setTimeout(()=>{this.route.navigateByUrl("fallecidos/listado")},1500)})}else N().fire("Atenci\xf3n","Es obligatorio subir una imagen")}mostrarSnack(t){this._snackBar.open(t,"Espere... guardando...",{duration:3500})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(f.t),e.Y36(m.F0),e.Y36(U.ux),e.Y36(s.QS),e.Y36(x.M))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-agregar"]],decls:38,vars:3,consts:[[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","aria-describedby","emailHelp","formControlName","name",1,"form-control"],["id","textoAviso",1,"form-text"],["for","apellidos",1,"form-label"],["type","text","formControlName","apellidos","id","apellidos",1,"form-control"],["for","mote",1,"form-label"],["type","text","formControlName","mote","id","mote",1,"form-control"],["for","nacio",1,"form-label"],["type","date","formControlName","nacio","id","nacio",1,"form-control"],["for","fallecio",1,"form-label"],["type","date","formControlName","fallecio","id","fallecio",1,"form-control"],["for","foto",1,"form-label"],["type","file","formControlName","url","id","foto",1,"form-control",3,"change"],["formControlName","sepultura",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"mb-3","form-check"],["type","checkbox","name","consentimiento","id","exampleCheck1",1,"form-check-input"],["for","exampleCheck1",1,"form-check-label"],["type","submit",1,"btn","btn-primary","float-end",3,"disabled"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return i.guardar()}),e.TgZ(1,"div",1)(2,"label",2),e._uU(3,"Nombre"),e.qZA(),e._UZ(4,"input",3),e.TgZ(5,"div",4),e._uU(6,"Solamente nombre sin apellidos."),e.qZA()(),e.TgZ(7,"div",1)(8,"label",5),e._uU(9,"Apellidos"),e.qZA(),e._UZ(10,"input",6),e.qZA(),e.TgZ(11,"div",1)(12,"label",7),e._uU(13,"Mote"),e.qZA(),e._UZ(14,"input",8),e.qZA(),e.TgZ(15,"div",1)(16,"label",9),e._uU(17,"Fecha de Nacimiento"),e.qZA(),e._UZ(18,"input",10),e.qZA(),e.TgZ(19,"div",1)(20,"label",11),e._uU(21,"Fecha de defunci\xf3n"),e.qZA(),e._UZ(22,"input",12),e.qZA(),e.TgZ(23,"div",1)(24,"label",13),e._uU(25,"Fotografia"),e.qZA(),e.TgZ(26,"input",14),e.NdJ("change",function(a){return i.imagenSeleccionada(a)}),e.qZA()(),e.TgZ(27,"mat-form-field")(28,"mat-label"),e._uU(29,"Lugar de enterramiento"),e.qZA(),e.TgZ(30,"mat-select",15),e.NdJ("selectionChange",function(a){return i.seleccionarSepultura(a.value)}),e.YNc(31,P,2,3,"mat-option",16),e.qZA()(),e.TgZ(32,"div",17),e._UZ(33,"input",18),e.TgZ(34,"label",19),e._uU(35,"Doy mi consentimientod"),e.qZA()(),e.TgZ(36,"button",20),e._uU(37,"Enviar datos"),e.qZA()()),2&t&&(e.Q6J("formGroup",i.miFormulario),e.xp6(31),e.Q6J("ngForOf",i.items),e.xp6(5),e.Q6J("disabled",!1===i.consentimiento))},dependencies:[d.sg,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,h.KE,h.hX,S.ey,k.gD],styles:[".item[_ngcontent-%COMP%]{border-radius:.2em;color:#fff;font-family:sans-serif;font-size:2em;padding:4em 1em;text-transform:uppercase}"]}),o})();var M=l(2564),c=l(1576),b=l(5412),C=l(4859),p=l(3546);let q=(()=>{class o{constructor(t,i,n,a){this.fb=t,this.dialogRef=i,this._dialog=n,this.data=a,this.description="Localizaci\xf3n de la sepultura",this.image=this.data.sepultura}close(){this.dialogRef.close()}save(){}onNoClick(){}ngOnInit(){console.log(this.image)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(s.QS),e.Y36(b.so),e.Y36(b.uw),e.Y36(b.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-dialog"]],decls:14,vars:2,consts:[[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["mat-card-image","",3,"src"],["mat-button","",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header"),e._UZ(2,"div",1),e.TgZ(3,"mat-card-title"),e._uU(4,"Sepultado en:"),e.qZA(),e.TgZ(5,"mat-card-subtitle"),e._uU(6),e.qZA()(),e._UZ(7,"img",2),e.TgZ(8,"mat-card-content")(9,"p"),e._uU(10," The Shiba Inu is the smallest of the six original and distinct spitz breeds of dog from Japan. A small, agile dog that copes very well with mountainous terrain, the Shiba Inu was originally bred for hunting. "),e.qZA()(),e.TgZ(11,"mat-card-actions")(12,"button",3),e.NdJ("click",function(){return i.close()}),e._uU(13,"Cerrar"),e.qZA()()()),2&t&&(e.xp6(6),e.Oqu(i.image.sepult),e.xp6(1),e.s9C("src",i.image.url2,e.LSH))},dependencies:[C.lW,p.a8,p.dk,p.dn,p.n5,p.$j,p.hq,p.G2,p.kc],encapsulation:2}),o})();var w=l(7266),v=l(7392),I=l(1481),Q=l(7915);function D(o,r){1&o&&e._UZ(0,"mat-icon",7)}function E(o,r){1&o&&e._UZ(0,"mat-icon",8)}let j=(()=>{class o{constructor(t,i,n,a,u,_){this._matIcon=t,this._domSatanizer=i,this.route=n,this._authService=a,this._compartidoService=u,this.notifyService=_,this.item={id:"",name:"",apellidos:"",nacio:new Date,fallecio:"",mote:"",url:"",url2:"",sepult:"",sepulturaId:"",likes:0},this.muertos=[],this.likes=[{id:"",usuarioId:"",createdAt:"",valor:0,like:!1,updatedAt:"",fallecidoId:""}],this.likesPorFallecido=[{id:"",usuarioId:"",createdAt:"",valor:0,like:!1,updatedAt:"",fallecidoId:""}],this.contador=0,this.total=0,this.apretado=!1,this.title="",t.addSvgIcon("vela2",i.bypassSecurityTrustResourceUrl("../assets/images/icons/vela2.svg")),t.addSvgIcon("vela3",i.bypassSecurityTrustResourceUrl("../assets/images/icons/vela3.svg")),t.addSvgIcon("corazon1",i.bypassSecurityTrustResourceUrl("../assets/images/icons/corazon1.svg")),t.addSvgIcon("nacio",i.bypassSecurityTrustResourceUrl("../assets/images/icons/nacio.svg"))}ngOnInit(){this._compartidoService.obtenerLikes().subscribe(t=>{const i=t.filter(n=>n.fallecidoId==this.item.id);this.total=i.filter(n=>{for(let a=0;a<i.length;a++)this.usuario.uid==i[a].usuarioId&&(this.apretado=!0)}),this.contador=i.length})}like(){const t=localStorage.getItem("token");console.log(this.usuario),this.usuario.usuario&&t?this.apretado?(this.contador=this.contador-1,this.likes[0].fallecidoId=this.item.id,this.likes[0].usuarioId=this.usuario.uid,this.apretado=!1,this._compartidoService.borrarLikes(this.likes[0].usuarioId,this.likes[0].fallecidoId).subscribe(i=>{})):(this.contador=this.contador+1,this.likes[0].like=!0,this.likes[0].fallecidoId=this.item.id,this.likes[0].usuarioId=this.usuario.uid,this.likes[0].valor=this.contador,this.likes[0].createdAt=(new Date).toDateString(),this.likes[0].updatedAt=(new Date).toLocaleDateString(),this.apretado=!0,this._compartidoService.crearLikes(this.likes[0].usuarioId,this.likes[0].fallecidoId,this.likes[0].valor,this.likes[0].like).subscribe(i=>{})):this.notifyService.showSuccess("Para demostrar su afecto es necesario estar conectado!! Haga LogIn o Reg\xedstrese","ATENCI\xd3N")}get usuario(){return this._authService.usuario}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(v.jv),e.Y36(I.H7),e.Y36(m.F0),e.Y36(w.e),e.Y36(M.D),e.Y36(Q.g))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-crear-likes"]],inputs:{item:"item",likes:"likes",contador:"contador"},decls:8,vars:3,consts:[["title","title",1,"likes",2,"background-color","rgb(67, 133, 150)","padding-top","5px","margin","0px","align-content","center","vertical-align","middle","text-align","center"],[3,"click"],["color","","svgIcon","vela2",2,"vertical-align","middle"],["color","","svgIcon","vela3",2,"vertical-align","middle"],["color","warn","style","vertical-align: middle;","svgIcon","corazon1",4,"ngIf"],["color","","style","vertical-align: middle;","svgIcon","corazon1",4,"ngIf"],[2,"vertical-align","middle","font-size","medium"],["color","warn","svgIcon","corazon1",2,"vertical-align","middle"],["color","","svgIcon","corazon1",2,"vertical-align","middle"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return i.like()}),e._UZ(2,"mat-icon",2)(3,"mat-icon",3),e.YNc(4,D,1,0,"mat-icon",4),e.YNc(5,E,1,0,"mat-icon",5),e.qZA(),e.TgZ(6,"span",6),e._uU(7),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("ngIf",i.apretado),e.xp6(1),e.Q6J("ngIf",!i.apretado),e.xp6(2),e.hij(" ",i.contador,""))},dependencies:[d.O5,v.Hw]}),o})();const z=function(o){return["/fallecidos/editar",o]};let T=(()=>{class o{constructor(t,i,n,a,u){this.route=t,this._authService=i,this._matIcon=n,this._domSatanizer=a,this._dialog=u,this.sepulturaIndividual={},this.item={id:"",name:"",apellidos:"",nacio:new Date,fallecio:"",mote:"",url:"",url2:"",sepult:"",sepulturaId:"",likes:0},this.muertos=[],this.editarDeshabilitado=!0,this.contadorAqui=0,this.likes=[{id:"",usuarioId:"",createdAt:"",valor:0,like:!1,updatedAt:"",fallecidoId:""}],n.addSvgIcon("vela2",a.bypassSecurityTrustResourceUrl("../assets/images/icons/vela2.svg")),n.addSvgIcon("vela3",a.bypassSecurityTrustResourceUrl("../assets/images/icons/vela3.svg")),n.addSvgIcon("corazon1",a.bypassSecurityTrustResourceUrl("../assets/images/icons/corazon1.svg")),n.addSvgIcon("nacio",a.bypassSecurityTrustResourceUrl("../assets/images/icons/nacio.svg")),n.addSvgIcon("nacio_2",a.bypassSecurityTrustResourceUrl("../assets/images/icons/nacio_2.svg")),n.addSvgIcon("cruz",a.bypassSecurityTrustResourceUrl("../assets/images/icons/cruz.svg")),n.addSvgIcon("cruz_2",a.bypassSecurityTrustResourceUrl("../assets/images/icons/cruz_2.svg"))}ngOnInit(){}verSepultura(){let t;screen.width<600?(t=this._dialog.open(q,{maxWidth:"95vw",width:"400px",height:"600px",maxHeight:"150vw",data:{sepultura:this.sepulturaIndividual}}),t.afterClosed().subscribe(i=>{console.log("The dialog was closed"),console.log(i)})):(t=this._dialog.open(q,{width:"500px",data:{sepultura:this.sepulturaIndividual}}),t.afterClosed().subscribe(i=>{console.log("The dialog was closed"),console.log(i)}))}get usuario(){return this._authService.usuario}navegar(){this.route.navigateByUrl(`fallecidos/${this.item.id}`)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.F0),e.Y36(w.e),e.Y36(v.jv),e.Y36(I.H7),e.Y36(b.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-fallecidos-tarjeta"]],inputs:{sepulturaIndividual:"sepulturaIndividual",item:"item",editarDeshabilitado:"editarDeshabilitado"},decls:36,vars:18,consts:[["fxLayout","row wrap",1,"container"],[1,"hijo1"],[1,"img"],[3,"src"],[1,"hijo2"],["svgIcon","nacio_2",2,"vertical-align","middle","height","18px"],["svgIcon","cruz_2",2,"vertical-align","middle","height","20px"],[3,"likes","contador","item"],[1,"hijo3",2,"text-align","center"],["mat-stroked-button","","color","warn",1,"mas",2,"margin","5px",3,"click"],["mat-raised-button","","color","primary",1,"edit",3,"disabled","routerLink"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.qZA()(),e.TgZ(4,"div",4)(5,"mat-card-header")(6,"mat-card-title"),e._uU(7),e.qZA(),e.TgZ(8,"mat-card-subtitle"),e._uU(9),e.qZA()(),e.TgZ(10,"mat-card-content")(11,"small")(12,"small"),e._UZ(13,"mat-icon",5),e.qZA(),e._uU(14),e.ALo(15,"date"),e.qZA(),e._UZ(16,"br"),e.TgZ(17,"small")(18,"small"),e._UZ(19,"mat-icon",6),e.qZA(),e._uU(20),e.ALo(21,"date"),e.qZA()()(),e._UZ(22,"br")(23,"hr"),e.TgZ(24,"div",4),e._UZ(25,"app-crear-likes",7),e.qZA(),e._UZ(26,"hr")(27,"br"),e.TgZ(28,"div",8)(29,"mat-card-actions")(30,"button",9),e.NdJ("click",function(){return i.navegar()}),e._uU(31," Ver m\xe1s... "),e.qZA(),e.TgZ(32,"button",9),e.NdJ("click",function(){return i.verSepultura()}),e._uU(33," Localizaci\xf3n "),e.qZA(),e.TgZ(34,"button",10),e._uU(35," Editar "),e.qZA()()()()),2&t&&(e.xp6(3),e.Q6J("src",i.item.url,e.LSH),e.xp6(4),e.Oqu(i.item.name),e.xp6(2),e.Oqu(i.item.apellidos),e.xp6(5),e.hij(" ",e.xi3(15,10,i.item.nacio,"dd-MM-yyyy")," "),e.xp6(6),e.hij(" ",e.xi3(21,13,i.item.fallecio,"dd-MM-yyyy")," "),e.xp6(5),e.Q6J("likes",i.likes)("contador",i.contadorAqui)("item",i.item),e.xp6(9),e.Q6J("disabled",i.editarDeshabilitado)("routerLink",e.VKq(16,z,i.item.id)))},dependencies:[j,C.lW,v.Hw,p.a8,p.dk,p.dn,p.n5,p.$j,p.hq,c.xw,m.rH,d.uU],styles:['mat-card[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px;padding:0}mat-card-content[_ngcontent-%COMP%]{padding-top:5px;color:#0c0c0c;align-items:center;align-self:center;text-align:center;max-width:100%}mat-card-header[_ngcontent-%COMP%]{background-color:#68a7ad;color:#fff;height:100%;width:100%;text-align:center;vertical-align:middle}.container[_ngcontent-%COMP%]{background-color:#99c4c8;width:100%}mat-card-title[_ngcontent-%COMP%]{margin:0;padding-top:10px;line-height:16px;text-align:center;vertical-align:middle;max-width:100%}mat-card-subtitle[_ngcontent-%COMP%]{padding-top:2px;line-height:15px;text-align:center;vertical-align:middle;max-width:100%}div[_ngcontent-%COMP%]{width:100%}small[_ngcontent-%COMP%]{align-content:center;max-width:100%}.wigdings[_ngcontent-%COMP%]{font:"Wingdins"}mat-card[_ngcontent-%COMP%]{background:#464141;margin-top:10px}.img[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}img[_ngcontent-%COMP%]{min-width:50px;max-width:100%;max-height:180px;border-radius:30px}.hijo1[_ngcontent-%COMP%], .hijo2[_ngcontent-%COMP%]{order:0;flex:1 1 auto;align-self:center}.hijo3[_ngcontent-%COMP%]{text-align:center;order:0;flex:1 1 auto;align-self:center}.mas[_ngcontent-%COMP%]{border-bottom:#f1ecec;border-color:#0c0c0c;color:#0c0c0c}button[_ngcontent-%COMP%]{max-width:90%}']}),o})();var R=l(3292);let H=(()=>{class o{transform(t,i){return t.sort((n,a)=>a[i]<n[i]?-1:a[i]>n[i]?1:0)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=e.Yjl({name:"sort",type:o,pure:!0}),o})();function B(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-futuros"),e.qZA())}function G(o,r){if(1&o&&(e.TgZ(0,"div",3),e._UZ(1,"app-fallecidos-tarjeta",4),e.qZA()),2&o){const t=r.$implicit,i=r.$implicit,n=e.oxw();e.xp6(1),e.Q6J("item",t)("sepulturaIndividual",i)("editarDeshabilitado",n.editarDeshabilitado)}}let $=(()=>{class o{constructor(t,i,n){this._fallecidoService=t,this._compartidoService=i,this._sepulturaService=n,this.image="",this.contadorAqui=1,this.muertos=[],this.ordenados=[],this.hayFuturos=!0,this.editarDeshabilitado=!0,this.sepultura=[],this.likes=[{id:"",usuarioId:"",createdAt:"",valor:0,like:!1,updatedAt:"",fallecidoId:""}],this._compartidoService.myNewSubject.subscribe(a=>{this.hayFuturos=a}),console.log(this.hayFuturos),this._compartidoService.obtenerLikes().subscribe(a=>{this.likes=a,console.log(a),this._fallecidoService.obtenerTodosMuertos().subscribe(u=>{this.muertos=u})}),n.obtenerSepulturas().subscribe(a=>{this.sepultura=a})}ngOnInit(){}verArray(){console.log(this.muertos)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(f.t),e.Y36(M.D),e.Y36(x.M))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-listado"]],decls:13,vars:6,consts:[[4,"ngIf"],["fxLayout","row wrap","fxFlexAlignContent","space-between","fxLayoutAlign","space-between start","fxLayoutGap","1.5px"],["fxFlex.xl","11","fxFlex.lg","13","fxFlex.md","18","fxFlex.sm","23","fxFlex.xs","32",4,"ngFor","ngForOf"],["fxFlex.xl","11","fxFlex.lg","13","fxFlex.md","18","fxFlex.sm","23","fxFlex.xs","32"],[3,"item","sepulturaIndividual","editarDeshabilitado"]],template:function(t,i){1&t&&(e._UZ(0,"hr"),e.TgZ(1,"h3"),e._uU(2,"Pr\xf3ximos Entierros"),e.qZA(),e._UZ(3,"hr"),e.YNc(4,B,2,0,"div",0),e._UZ(5,"br")(6,"hr"),e.TgZ(7,"h3"),e._uU(8,"Enterramientos Anteriores"),e.qZA(),e._UZ(9,"hr"),e.TgZ(10,"div",1),e.YNc(11,G,2,3,"div",2),e.ALo(12,"sort"),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngIf",i.hayFuturos),e.xp6(7),e.Q6J("ngForOf",e.xi3(12,3,i.muertos,"fallecio"))("ngForOf",i.sepultura))},dependencies:[d.sg,d.O5,c.xw,c.SQ,c.Wh,c.yH,T,R.t,H],styles:[".w-100[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{display:flex;position:relative;justify-content:center}.cards[_ngcontent-%COMP%]{width:8000px;overflow:hidden}.overflow[_ngcontent-%COMP%]{position:relative;transition:left .5s ease-in-out}.card[_ngcontent-%COMP%]{width:800px;height:50px;background-color:#e0e1e2;border-radius:5px;display:inline-block;margin-right:10px;position:relative}.no-right-margin[_ngcontent-%COMP%]{margin-right:0}.card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:400px;font-size:15px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{height:30px;width:30px;background-color:#0072bc;position:absolute;top:50%;transform:translateY(-50%)}.left.disabled[_ngcontent-%COMP%], .right.disabled[_ngcontent-%COMP%]{background-color:#ccc}.left[_ngcontent-%COMP%]{left:0}.right[_ngcontent-%COMP%]{right:0}"]}),o})();var V=l(5829),A=l(2340),K=l(7579),X=l(8372);function W(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li",10)(1,"a",11),e.NdJ("click",function(){const a=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.sugeridos(a.apellidos))}),e._uU(2),e.qZA()()}if(2&o){const t=r.$implicit;e.xp6(2),e.hij(" ",t.apellidos," ")}}function ee(o,r){if(1&o&&(e.TgZ(0,"ul",8),e.YNc(1,W,3,1,"li",9),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.apellidosSugeridos)}}function te(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li",10)(1,"a",11),e.NdJ("click",function(){const a=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.sugeridos(a.sepult))}),e._uU(2),e.qZA()()}if(2&o){const t=r.$implicit;e.xp6(2),e.hij(" ",t.sepult," ")}}function ie(o,r){if(1&o&&(e.TgZ(0,"ul",8),e.YNc(1,te,3,1,"li",9),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.sepulturasSugeridas)}}function oe(o,r){1&o&&(e.TgZ(0,"div")(1,"div",12),e._uU(2," No se encontr\xf3 ning\xfan resultado para la b\xfasqueda\n"),e.qZA()())}function ae(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"img",16),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"a",11),e.NdJ("click",function(){const a=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.navegar(a.id))}),e._uU(13," Ver m\xe1s... "),e.qZA()()()}if(2&o){const t=r.$implicit,i=r.index;e.xp6(2),e.Oqu(i),e.xp6(2),e.s9C("src",t.url,e.LSH),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.apellidos),e.xp6(2),e.Oqu(t.sepult)}}function ne(o,r){if(1&o&&(e.TgZ(0,"div",13)(1,"div"),e._UZ(2,"br"),e.TgZ(3,"table",14)(4,"thead")(5,"tr")(6,"th"),e._uU(7," # "),e.qZA(),e.TgZ(8,"th"),e._uU(9," Foto "),e.qZA(),e.TgZ(10,"th"),e._uU(11," Nombre "),e.qZA(),e.TgZ(12,"th"),e._uU(13," Apellidos "),e.qZA(),e.TgZ(14,"th"),e._uU(15," Sepultura "),e.qZA(),e._UZ(16,"th"),e.qZA()(),e.TgZ(17,"tbody"),e.YNc(18,ae,14,5,"tr",15),e.qZA()()()()),2&o){const t=e.oxw();e.xp6(18),e.Q6J("ngForOf",t.cribados)}}function re(o,r){if(1&o&&(e.TgZ(0,"div",19),e._UZ(1,"app-fallecidos-tarjeta",20),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("item",t)}}function le(o,r){if(1&o&&(e.TgZ(0,"div",17),e.YNc(1,re,2,1,"div",18),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.cribados)}}let se=(()=>{class o{constructor(t,i){this._fallecidoService=t,this.route=i,this.cribados=[],this.cribadosSepult=[],this.termino="",this.hayerror=!1,this.apellidoPreview=this.seleccionadoA,this.sepulturaPreview=this.seleccionadoS,this.activo=1,this.baseUrl=A.N.baseUrl,this.onDebounce=new e.vpe,this.debouncer=new K.x,this.apellidosSugeridos=[],this.sepulturasSugeridas=[],this.sugerenciasVisibles=!0,this.sugerenciasVisibles1=!0}ngOnInit(){this.debouncer.pipe((0,X.b)(1500)).subscribe(t=>{this.onDebounce.emit(t),console.log("debouncer:",t)})}navegar(t){console.log(t),console.log(this.cribados),this.route.navigateByUrl(`fallecidos/${t}`)}sugeridos(t){console.log(t),this.termino=t,this.seleccionadoA?this.sugerenciasVisibles=!1:this.seleccionadoS&&(this.sugerenciasVisibles1=!1),this.cambiaBusqueda()}teclaPresionada(t){this.sugerenciasVisibles=!0,this.debouncer.next(this.termino),this.seleccionadoA?this._fallecidoService.obtenerMuertoCribados(this.termino,"apellido").subscribe(i=>this.apellidosSugeridos=i.splice(0,8),i=>this.apellidosSugeridos=[]):this.seleccionadoS&&this._fallecidoService.obtenerMuertoCribados(this.termino,"sepultura").subscribe(i=>this.sepulturasSugeridas=i.splice(0,8),i=>this.sepulturasSugeridas=[])}cambiaBusqueda(){switch(this.activo=this.seleccionadoA?1:2,this.activo){case 1:this.apellidoPreview=!0,this.sepulturaPreview=!1,this.hayerror=!1,this._fallecidoService.obtenerMuertoCribados(this.termino,"apellido").subscribe(t=>{this.cribados=t,(""==this.termino||this.cribados.length<1)&&(this.hayerror=!0),this.termino="",this.sugerenciasVisibles=!1,this.activo=0,console.log(t)});break;case 2:this.apellidoPreview=!1,this.sepulturaPreview=!0,this.hayerror=!1,this._fallecidoService.obtenerMuertoCribados(this.termino,"sepultura").subscribe(t=>{this.cribados=t,(""==this.termino||this.cribados.length<1)&&(this.hayerror=!0),this.termino="",this.sugerenciasVisibles=!1,this.activo=0,console.log(t)})}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(f.t),e.Y36(m.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-porapellido"]],inputs:{seleccionadoA:"seleccionadoA",seleccionadoS:"seleccionadoS"},decls:14,vars:6,consts:[[1,"row","wrap"],["fxFlex","100"],["type","text","name","termino","autocomplete","off","placeholder","",1,"form-control",3,"ngModel","keyup.enter","input","ngModelChange"],[1,"btn","btn-primary","float-end",3,"click"],["class","list-group",4,"ngIf"],[4,"ngIf"],["fxLayout","column wrap",4,"ngIf"],["fxLayout","row wrap","fxLayoutGap","5px","fxLayoutAlign","space-between space-between",4,"ngIf"],[1,"list-group"],["class","list-group-item list-group-item-action",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action"],[3,"click"],[1,"alert","alert-danger"],["fxLayout","column wrap"],[1,"table","table","table-success","table-striped"],[4,"ngFor","ngForOf"],[2,"width","50px",3,"src"],["fxLayout","row wrap","fxLayoutGap","5px","fxLayoutAlign","space-between space-between"],["fxFlex.xs","47","fxFlex.sm","47","fxFlex.lg","30","fxFlex.md","47",4,"ngFor","ngForOf"],["fxFlex.xs","47","fxFlex.sm","47","fxFlex.lg","30","fxFlex.md","47"],[3,"item"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3,"Resultados"),e.qZA(),e.TgZ(4,"form")(5,"input",2),e.NdJ("keyup.enter",function(){return i.cambiaBusqueda()})("input",function(a){return i.teclaPresionada(a)})("ngModelChange",function(a){return i.termino=a}),e.qZA()(),e.TgZ(6,"button",3),e.NdJ("click",function(){return i.cambiaBusqueda()}),e._uU(7,"Buscar"),e.qZA(),e._UZ(8,"hr"),e.qZA(),e.YNc(9,ee,2,1,"ul",4),e.YNc(10,ie,2,1,"ul",4),e.YNc(11,oe,3,0,"div",5),e.YNc(12,ne,19,1,"div",6),e.YNc(13,le,2,1,"div",7),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngModel",i.termino),e.xp6(4),e.Q6J("ngIf",i.sugerenciasVisibles),e.xp6(1),e.Q6J("ngIf",i.sugerenciasVisibles1),e.xp6(1),e.Q6J("ngIf",i.hayerror),e.xp6(1),e.Q6J("ngIf",i.apellidoPreview),e.xp6(1),e.Q6J("ngIf",i.sepulturaPreview))},dependencies:[d.sg,d.O5,s._Y,s.Fj,s.JJ,s.JL,s.On,s.F,c.xw,c.SQ,c.Wh,c.yH,T],styles:["table[_ngcontent-%COMP%]{color:#000;text-align:center;vertical-align:middle}li[_ngcontent-%COMP%]{cursor:pointer}"]}),o})();function ce(o,r){if(1&o&&(e.TgZ(0,"div",5),e._UZ(1,"app-porapellido",6),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("seleccionadoA",t.seleccionadoApe)}}function ue(o,r){if(1&o&&(e.TgZ(0,"div",5),e._UZ(1,"app-porapellido",7),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("seleccionadoS",t.seleccionadoSep)}}const J=function(o){return{active:o}};let de=(()=>{class o{constructor(){this.seleccionadoApe=!1,this.seleccionadoSep=!1,this.option=2}activarOpcion(t){0==t&&(this.seleccionadoApe=!0,this.seleccionadoSep=!1),1==t&&(this.seleccionadoSep=!0,this.seleccionadoApe=!1),this.option=t}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-buscar"]],decls:11,vars:8,consts:[["fxLayoutGap","30px",1,"row","wrap","container"],[1,"col-xs-12","col-md-4"],[1,"list-group"],[1,"list-group-item",3,"ngClass","click"],["class","col-xs-12 col-md-8","fxLayout","row wrap",4,"ngIf"],["fxLayout","row wrap",1,"col-xs-12","col-md-8"],[3,"seleccionadoA"],[3,"seleccionadoS"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3,"Busquedas"),e.qZA(),e.TgZ(4,"ul",2)(5,"li",3),e.NdJ("click",function(){return i.activarOpcion(0)}),e._uU(6," Por Apellido "),e.qZA(),e.TgZ(7,"li",3),e.NdJ("click",function(){return i.activarOpcion(1)}),e._uU(8," Por Sepultura "),e.qZA()()(),e.YNc(9,ce,2,1,"div",4),e.YNc(10,ue,2,1,"div",4),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngClass",e.VKq(4,J,i.seleccionadoApe)),e.xp6(2),e.Q6J("ngClass",e.VKq(6,J,i.seleccionadoSep)),e.xp6(2),e.Q6J("ngIf",0==i.option),e.xp6(1),e.Q6J("ngIf",1==i.option))},dependencies:[d.mk,d.O5,c.xw,c.SQ,V.oO,se],styles:[".row.wrap.container[_ngcontent-%COMP%]{margin:1px;padding:1px}.col-xs-12.col-md-4[_ngcontent-%COMP%], div[_ngcontent-%COMP%]{padding:1px}.container[_ngcontent-%COMP%]{padding:1px;margin:1px}"]}),o})();var Z=l(3900);function pe(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"br"),e._uU(2,"Estamos trabajando para "),e._UZ(3,"br"),e._uU(4,"actualizar esta informaci\xf3n"),e._UZ(5,"br"),e._uU(6," ..."),e.qZA())}function me(o,r){if(1&o&&(e.TgZ(0,"div",6),e._UZ(1,"app-fallecidos-tarjeta",7),e.qZA()),2&o){const t=r.$implicit,i=e.oxw();e.xp6(1),e.Q6J("item",t)("editarDeshabilitado",i.boton_editar)}}let ge=(()=>{class o{constructor(t,i){this.activatedRoute=t,this.fallecidosService=i,this.fallecido={id:"",name:"",apellidos:"",nacio:new Date,fallecio:"",mote:"",url:"",url2:"",sepult:"",sepulturaId:"",likes:0},this.actualizando=!1,this.relacionados=[],this.boton_editar=!0}ngOnInit(){this.activatedRoute.params.pipe((0,Z.w)(({id:t})=>this.fallecidosService.obtenerMuertoPorId(t))).subscribe(t=>{this.fallecido=t,console.log(t),this.fallecidosService.obtenerRelacionados(this.fallecido.id,this.fallecido.sepult).subscribe(a=>{const u=a.filter(_=>_.id!=t.id);console.log(this.fallecido),this.relacionados=u,console.log(a.length),0==this.relacionados.length&&(this.actualizando=!0),console.log(u),console.log(this.relacionados)})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.gz),e.Y36(f.t))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-relacionados"]],decls:9,vars:3,consts:[["fxLayout","row wrap","fxLayoutAlign","start start","fxLayoutGap","5px",2,"margin-top","5px","margin-left","5px"],["fxFlex","100","fxLayoutAlign","center",2,"background","rgb(0, 4, 22)","border-top-right-radius","50px"],[2,"margin-top","5px","padding","15px","text-align","center"],[2,"height","100%","width","100%","background","red","text-align","center","margin-right","53px","display","flex","justify-content","center","align-items","center"],[4,"ngIf"],["fxFlex","100","fxFlex.xl","31.5","fxFlex.lg","32","fxFlex.md","42","fxFlex.sm","23","fxFlex.xs","30","fxLayoutGap","10px","fxLayoutAlign","space-around center",4,"ngFor","ngForOf"],["fxFlex","100","fxFlex.xl","31.5","fxFlex.lg","32","fxFlex.md","42","fxFlex.sm","23","fxFlex.xs","30","fxLayoutGap","10px","fxLayoutAlign","space-around center"],[3,"item","editarDeshabilitado"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Sepultados en "),e._UZ(4,"br"),e._uU(5),e.qZA()(),e.TgZ(6,"div",3),e.YNc(7,pe,7,0,"div",4),e.qZA(),e.YNc(8,me,2,2,"div",5),e.qZA()),2&t&&(e.xp6(5),e.hij("la misma ubicaci\xf3n que ",i.fallecido.name,""),e.xp6(2),e.Q6J("ngIf",i.actualizando),e.xp6(1),e.Q6J("ngForOf",i.relacionados))},dependencies:[d.sg,d.O5,c.xw,c.SQ,c.Wh,c.yH,T],encapsulation:2}),o})();var O=l(6338),fe=l(4850),he=l(297);let _e=(()=>{class o{constructor(t,i){this.activatedRoute=t,this.fallecidosService=i,this.fallecido={id:"",name:"",apellidos:"",nacio:new Date,fallecio:"",mote:"",url:"",url2:"",sepult:"",sepulturaId:"",likes:0}}ngOnInit(){this.activatedRoute.params.pipe((0,Z.w)(({id:t})=>this.fallecidosService.obtenerMuertoPorId(t))).subscribe(t=>{this.fallecido=t})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.gz),e.Y36(f.t))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-detalle-fallecido"]],decls:23,vars:4,consts:[["fxLayout","row"],["width","100%",1,"rounded","mx-auto","d-block","img-thumbnail",3,"src"],["fxFlex","84",1,""],[1,"p-b-10","m-1"],[1,"p-b-10","p-t-10","m-1"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div"),e._UZ(2,"img",1),e.qZA(),e.TgZ(3,"div",2)(4,"h1",3),e._uU(5),e.qZA(),e.TgZ(6,"h2",3),e._uU(7),e.qZA(),e.TgZ(8,"mat-list"),e._UZ(9,"mat-divider")(10,"br"),e.TgZ(11,"label",3),e._uU(12," Conocido por: "),e.qZA(),e._UZ(13,"br"),e.TgZ(14,"mat-list-item",3),e._uU(15),e.qZA()(),e._UZ(16,"mat-divider")(17,"br"),e.qZA()(),e.TgZ(18,"div")(19,"p",4),e._uU(20,'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."'),e.qZA()(),e._UZ(21,"br")(22,"app-comentario")),2&t&&(e.xp6(2),e.s9C("src",i.fallecido.url,e.LSH),e.xp6(3),e.hij("\n",i.fallecido.name,"\n"),e.xp6(2),e.hij(" ",i.fallecido.apellidos,""),e.xp6(8),e.hij(" ",i.fallecido.mote,""))},dependencies:[O.i$,O.Tg,fe.d,c.xw,c.yH,he.U],styles:[".border[_ngcontent-%COMP%]{border-color:#deb887;border-width:5rem;border-radius:5rem}"]}),o})(),ve=(()=>{class o{constructor(t,i,n){this.activatedRoute=t,this.fallecidosService=i,this._sepulturaService=n,this.fallecido={id:"",name:"",apellidos:"",nacio:new Date,fallecio:"",mote:"",url:"",url2:"",sepult:"",sepulturaId:"",likes:0},this.baseUrl=A.N.baseUrl}ngOnInit(){this.activatedRoute.params.pipe((0,Z.w)(({id:t})=>this.fallecidosService.obtenerMuertoPorId(t))).subscribe(t=>{this.fallecido=t,console.log(t),this._sepulturaService.obtenerSepultura(this.fallecido.sepulturaId).subscribe(i=>{})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.gz),e.Y36(f.t),e.Y36(x.M))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-fallecidos"]],inputs:{fallecido:"fallecido"},decls:12,vars:2,consts:[["fxFlex","100","fxLayout","column",1,"container"],["fxFlex","100","fxLayout","row","fxLayoutAlign","end","fxLayout.xs","column","fxLayout.sm","column","fxLayoutGap","0px",1,"flex-container"],["fxFlex","100","fxFlex.lg","40","fxFlex.md","50",1,"child-1"],["fxFlex","46","fxLayoutWrap","","fxLayoutGap","20px",1,"child-2"],[3,"src"],["fxFlex","54",1,"child-3"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"Homenagen"),e.qZA(),e.TgZ(3,"div",1)(4,"div",2),e._UZ(5,"app-detalle-fallecido"),e.qZA(),e.TgZ(6,"div",3),e._UZ(7,"img",4),e.TgZ(8,"div"),e._uU(9),e.qZA()(),e.TgZ(10,"div",5),e._UZ(11,"app-relacionados"),e.qZA()()()),2&t&&(e.xp6(7),e.s9C("src",i.fallecido.url2,e.LSH),e.xp6(2),e.hij(" ",i.fallecido.sepult," "))},dependencies:[c.xw,c.SQ,c.Wh,c.yH,ge,_e],styles:["@media all and (min-width: 600px){.aside[_ngcontent-%COMP%]{flex:1 0 0}}.child-1[_ngcontent-%COMP%]{background-color:#c8e6f5;padding:10px;border-top-left-radius:10px;border-bottom-left-radius:50px;color:#000}.child-2[_ngcontent-%COMP%]{width:auto;color:#0a0a0a;margin:0;padding:20px;background-color:#fff}.child-3[_ngcontent-%COMP%]{background-color:#343434;border-top-right-radius:50px}.container[_ngcontent-%COMP%]{padding:10px;background-color:#5ca0d3;width:100%}img[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;min-width:50px;max-width:100%;max-height:500px;border-radius:30px}"]}),o})();var xe=l(4998),be=l(2047),y=l(9602),Ze=l(4144);function Ce(o,r){if(1&o&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.AsE("",t.calle,", ",t.numero," ")}}function Te(o,r){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.muerto.sepult," ")}}function Ae(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",2)(1,"mat-form-field",3)(2,"mat-label"),e._uU(3,"Fecha de Nacimiento"),e.qZA(),e.TgZ(4,"input",20),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.muerto.nacio=n)}),e.qZA()(),e.TgZ(5,"div",5)(6,"button",13),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.modificarNacio())}),e.TgZ(7,"mat-icon"),e._uU(8,"edit"),e.qZA(),e._uU(9),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.muerto.nacio),e.xp6(5),e.hij(" ",t.mostrarFecha?"Crear":"Mofificar Nacimiento?"," ")}}function ye(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"mat-form-field",21)(2,"mat-label"),e._uU(3,"Nacimiento"),e.qZA(),e.TgZ(4,"input",22),e.NdJ("dateChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.fechaNacio(n))}),e.qZA(),e._UZ(5,"mat-datepicker-toggle",23)(6,"mat-datepicker",null,24),e.qZA()()}if(2&o){const t=e.MAs(7);e.xp6(4),e.Q6J("matDatepicker",t),e.xp6(1),e.Q6J("for",t)}}function Fe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",2)(1,"mat-form-field",3)(2,"mat-label"),e._uU(3,"Fecha de Defunci\xf3n"),e.qZA(),e.TgZ(4,"input",20),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.muerto.fallecio=n)}),e.qZA()(),e._UZ(5,"br")(6,"br"),e.TgZ(7,"div",5)(8,"button",13),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.modificarFallecio())}),e.TgZ(9,"mat-icon"),e._uU(10,"edit"),e.qZA(),e._uU(11),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.muerto.fallecio),e.xp6(7),e.hij(" ",t.mostrarFechaDef?"Crear":"Mofificar Defunci\xf3n?"," ")}}function Ue(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"mat-form-field",21)(2,"mat-label"),e._uU(3,"Defunci\xf3n"),e.qZA(),e.TgZ(4,"input",22),e.NdJ("dateChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.fechaFallecio(n))}),e.qZA(),e.TgZ(5,"mat-hint"),e._uU(6,"DD/MM/YYYY"),e.qZA(),e._UZ(7,"mat-datepicker-toggle",23)(8,"mat-datepicker",null,24),e.qZA()()}if(2&o){const t=e.MAs(9);e.xp6(4),e.Q6J("matDatepicker",t),e.xp6(3),e.Q6J("for",t)}}function Se(o,r){if(1&o&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.AsE("",t.calle,", ",t.numero," ")}}function ke(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.eliminar())}),e.TgZ(1,"mat-icon"),e._uU(2,"remove"),e.qZA(),e._uU(3," Borrar "),e.qZA()}}let Me=(()=>{class o{constructor(t,i,n,a,u,_){this._fallecidosService=t,this._comentariosService=i,this._activatedRoute=n,this._snackBar=a,this._sepulturaService=u,this._route=_,this.muerto={name:"",apellidos:"",nacio:new Date,fallecio:"",mote:"",url:"",url2:"",sepult:"",sepulturaId:""},this.items=[],this.sepultura={id:"",calle:"",numero:"",avatar:"",tipo:""},this.imagenBD=!0,this.baseUrl=A.N.baseUrl,this.imagenUrl=`${this.baseUrl}/uploads/${this.sepultura.tipo}/${this.sepultura.avatar}`,this.mostrarFecha=!1,this.nacio=!1,this.mostrarFechaDef=!1,this.fallecio=!1,this.element=["Seleccionar Calle y Numero"],this.selectedValue="",this.select="",this.sepultenBD=!0,this.capturadaUrl=""}ngOnInit(){this._activatedRoute.params.pipe((0,Z.w)(({id:t})=>this._fallecidosService.obtenerMuertoPorId(t))).subscribe(t=>{this.muerto=t}),this._sepulturaService.obtenerSepulturas().subscribe(t=>{this.items=t})}actualizarMuertoCloudinary(){this._fallecidosService.actualizarMuertoCloudinary(this.muerto,this.imagenSubir).subscribe(t=>{this.mostrarSnack("Actualizando datos del fallecido!!!"),setTimeout(()=>{this._route.navigateByUrl("/fallecidos/listado")},2500)})}actualizar(){this._fallecidosService.actualizarMuerto(this.muerto).subscribe(t=>this.mostrarSnack("Actualizado con \xe9xito!!!"))}eliminar(){this._fallecidosService.eliminarMuerto(this.muerto.id).subscribe(t=>{this._comentariosService.eliminarTodosComentarios(this.muerto.id).subscribe(i=>{})})}capturarFallecido(t){if(t.target.files){const i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=n=>{this.capturadaUrl=n.target.result}}this.muerto.url=this.capturadaUrl,console.log(this.capturadaUrl),console.log(this.muerto.url),this.imagenSubir=t.target.files[0]}capturaLocaliza(t){this.sepultenBD=!1,this.muerto.sepult=t.calle+", "+t.numero,this.muerto.sepulturaId=t.id,this.muerto.url2=t.avatar}seleccionarSepultura(t){this.muerto.url2=t.avatar,this.muerto.sepult=t.calle+", "+t.numero}modificarNacio(){this.nacio=!0,this.mostrarFecha=!0}modificarFallecio(){this.fallecio=!0,this.mostrarFechaDef=!0}mote(t){console.log(t)}fechaNacio(t){const n=t.value.toString().split(" ");let a=n[1].toString();switch(a){case"Jan":a="01";break;case"Feb":a="02";break;case"Mar":a="03";break;case"Apr":a="04";break;case"May":a="05";break;case"Jun":a="06";break;case"Jul":a="07";break;case"Aug":a="08";break;case"Sept":a="09";break;case"Oct":a="10";break;case"Nov":a="11";break;case"Dec":a="12"}const u=n[2].toString()+"-"+a+"-"+n[3].toString();this.muerto.nacio=new Date(u)}fechaFallecio(t){const n=t.value.toString().split(" ");let a=n[1].toString();switch(a){case"Jan":a="01";break;case"Feb":a="02";break;case"Mar":a="03";break;case"Apr":a="04";break;case"May":a="05";break;case"Jun":a="06";break;case"Jul":a="07";break;case"Aug":a="08";break;case"Sept":a="09";break;case"Oct":a="10";break;case"Nov":a="11";break;case"Dec":a="12"}const u=n[2].toString()+"-"+a+"-"+n[3].toString();this.muerto.fallecio=u}mostrarSnack(t){this._snackBar.open(t,"Espere! Guardando...",{duration:2500})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(f.t),e.Y36(be.o),e.Y36(m.gz),e.Y36(U.ux),e.Y36(x.M),e.Y36(m.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-editar"]],decls:50,vars:16,consts:[["fxLayout","row","fxLayoutGap","40px","fxLayout.xs","column"],["fxFlex","40%","fxLayout","column"],["fxLayout","row","fxLayout.xs","column","fxLayoutGap","20px"],["fxFlex","100","fxLayout.xs","column"],["matInput","","type","text","required","",3,"ngModel","ngModelChange"],["fxFlex","100"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","type","text","required","",3,"ngModel","ngModelChange","change"],["fxLayout","row","fxLayout.xs","column","fxLayoutGap","20px",4,"ngIf"],["name","sepultura",3,"selectionChange"],["fxLayout",""],["mat-raised-button","","color","primary",3,"click"],[1,"spacer"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["fxFlex","30%"],["width","100%",3,"src"],["type","file",3,"change"],[3,"value"],["matInput","","type","date","required","",3,"ngModel","ngModelChange"],["appearance","fill"],["matInput","",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["picker",""],["mat-raised-button","","color","warn",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),e._uU(5,"Nombre"),e.qZA(),e.TgZ(6,"input",4),e.NdJ("ngModelChange",function(a){return i.muerto.name=a}),e.qZA()(),e.TgZ(7,"mat-form-field",5)(8,"mat-label"),e._uU(9,"Apellidos"),e.qZA(),e.TgZ(10,"input",4),e.NdJ("ngModelChange",function(a){return i.muerto.apellidos=a}),e.qZA()()(),e.TgZ(11,"mat-form-field")(12,"mat-label"),e._uU(13,"Localizaci\xf3n"),e.qZA(),e.TgZ(14,"mat-select",6),e.NdJ("ngModelChange",function(a){return i.selectedValue=a})("selectionChange",function(a){return i.capturaLocaliza(a.value)}),e.YNc(15,Ce,2,3,"mat-option",7),e.qZA(),e.YNc(16,Te,2,1,"div",8),e.qZA(),e.TgZ(17,"mat-form-field")(18,"mat-label"),e._uU(19,"Mote"),e.qZA(),e.TgZ(20,"input",9),e.NdJ("ngModelChange",function(a){return i.muerto.mote=a})("change",function(a){return i.mote(a)}),e.qZA()(),e._UZ(21,"br")(22,"br"),e.YNc(23,Ae,10,2,"div",10),e._UZ(24,"br")(25,"br"),e.YNc(26,ye,8,2,"div",8),e.YNc(27,Fe,12,2,"div",10),e._UZ(28,"br"),e.YNc(29,Ue,10,2,"div",8),e._UZ(30,"br"),e.TgZ(31,"mat-form-field")(32,"mat-label"),e._uU(33,"Lugar de enterramiento"),e.qZA(),e.TgZ(34,"mat-select",11),e.NdJ("selectionChange",function(a){return i.seleccionarSepultura(a.value)}),e.YNc(35,Se,2,3,"mat-option",7),e.qZA()(),e._UZ(36,"br"),e.TgZ(37,"div",12)(38,"button",13),e.NdJ("click",function(){return i.actualizarMuertoCloudinary()}),e.TgZ(39,"mat-icon"),e._uU(40,"edit"),e.qZA(),e._uU(41),e.qZA(),e._UZ(42,"span",14),e.YNc(43,ke,4,0,"button",15),e.qZA()(),e.TgZ(44,"div",16),e._UZ(45,"img",17)(46,"img",17),e.TgZ(47,"input",18),e.NdJ("change",function(a){return i.capturarFallecido(a)}),e.qZA()(),e.TgZ(48,"div",16),e._UZ(49,"img",17),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("ngModel",i.muerto.name),e.xp6(4),e.Q6J("ngModel",i.muerto.apellidos),e.xp6(4),e.Q6J("ngModel",i.selectedValue),e.xp6(1),e.Q6J("ngForOf",i.items),e.xp6(1),e.Q6J("ngIf",i.sepultenBD),e.xp6(4),e.Q6J("ngModel",i.muerto.mote),e.xp6(3),e.Q6J("ngIf",!i.nacio),e.xp6(3),e.Q6J("ngIf",i.mostrarFecha),e.xp6(1),e.Q6J("ngIf",!i.fallecio),e.xp6(2),e.Q6J("ngIf",i.mostrarFechaDef),e.xp6(6),e.Q6J("ngForOf",i.items),e.xp6(6),e.hij(" ",i.muerto.id?"Actualizar":"Crear"," "),e.xp6(2),e.Q6J("ngIf",i.muerto.id),e.xp6(2),e.Q6J("src",i.muerto.url,e.LSH),e.xp6(1),e.Q6J("src",i.capturadaUrl,e.LSH),e.xp6(3),e.Q6J("src",i.muerto.url2,e.LSH))},dependencies:[d.sg,d.O5,s.Fj,s.JJ,s.Q7,s.On,c.xw,c.SQ,c.yH,h.KE,h.bx,h.hX,h.R9,S.ey,y.Mq,y.hl,y.nW,C.lW,v.Hw,Ze.Nt,k.gD],encapsulation:2}),o})();var g=l(8390);const qe=[{path:"",component:xe.O,children:[{path:"listado",component:$},{path:"agregar",component:Y,canActivate:[g.z],canLoad:[g.z]},{path:"editar/:id",component:Me,canActivate:[g.z],canLoad:[g.z]},{path:"buscar",component:de,canActivate:[g.z],canLoad:[g.z]},{path:":id",component:ve,canActivate:[g.z],canLoad:[g.z]},{path:"**",redirectTo:"listado"}]}];let we=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.Bz.forChild(qe),m.Bz]}),o})();var Ie=l(9814),Je=l(8711),Oe=l(8864),Le=l(4643),Ne=l(9638);let Pe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.ez,we,s.u5,s.UX,Ie.o9,Je.q,Oe.SharedModule,Le.SepulturasModule,Ne.ComentariosModule]}),o})()}}]);